<?xml version="1.0" encoding="utf-8" ?>
<Defs>

    <ThingCategoryDef>
      <defName>AmmoBodkinArrows</defName>
      <label>bodkin arrows</label>
      <parent>AmmoNeolithic</parent>
      <iconPath>UI/Icons/ThingCategories/CaliberArrow</iconPath>
    </ThingCategoryDef>
	
	<!-- ==================== AmmoSet ========================== -->

	<CombatExtended.AmmoSetDef>
		<defName>AmmoSet_BodkinArrows</defName>
		<label>Bodkin Arrows</label>
		<ammoTypes>
			<Ammo_BodkinArrows>Projectile_BodkinArrow</Ammo_BodkinArrows>
			<Ammo_FlamingBodkinArrows>Projectile_FlamingBodkinArrow</Ammo_FlamingBodkinArrows>
		</ammoTypes>
	</CombatExtended.AmmoSetDef>
	
	<!-- ==================== Ammo ========================== -->

  <ThingDef Name="AmmoBodkinArrow" ParentName="AmmoBaseMT" Abstract="True">
    <statBases>
      <Mass>0.2</Mass>
      <Bulk>0.2</Bulk>
      <Flammability>1</Flammability>
    </statBases>
    <thingCategories>
      <li>AmmoBodkinArrows</li>
    </thingCategories>
    <stackLimit>200</stackLimit>
    <tradeTags>
      <li>CE_AutoEnableTrade</li>
    </tradeTags>
  </ThingDef>

  <ThingDef Class="CombatExtended.AmmoDef" ParentName="AmmoBodkinArrow">
    <defName>Ammo_BodkinArrows</defName>
	<description>The infamous bodkin arrow features a square-sectioned arrowhead specially designed to penetrate plate armor. Fired from the longbow, this arrow is deadly to even the most heavily armored targets.</description>
    <label>Bodkin Arrows</label>
    <graphicData>
      <texPath>Things/Ammo/BodkinArrows</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <statBases>
      <MarketValue>0.6</MarketValue>
    </statBases>
    <ammoClass>BodkinArrow</ammoClass>
  </ThingDef>

  <ThingDef   Class="CombatExtended.AmmoDef" ParentName="AmmoBodkinArrow">
    <defName>Ammo_FlamingBodkinArrows</defName>
    <description>The infamous bodkin arrow features a square-sectioned arrowhead specially designed to penetrate plate armor. This particular version has the bodkin arrowhead wrapped and tied with cloth, and dipped in quicklime pitch for flammability. At the cost of armor penetration and velocity, this projectile will ignite any hit target with flames, even if the arrow itself is deflected by armor.</description>
    <label>Flaming Bodkin Arrows</label>
    <graphicData>
      <texPath>Things/Ammo/FlamingArrows</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <statBases>
      <MarketValue>0.8</MarketValue>
    </statBases>
    <ammoClass>FlamingBodkinArrow</ammoClass>
  </ThingDef>

  
	<!-- ================== Projectiles ================== -->

	<ThingDef Name="BaseBodkinArrowProjectile" ParentName="BaseBullet" Abstract="true">
		<graphicData>
			<texPath>Things/Projectile/Arrow_Small</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
	</ThingDef>

	<ThingDef ParentName="BaseBodkinArrowProjectile">
		<defName>Projectile_BodkinArrow</defName>
		<label>Bodkin Arrow</label>
		<projectile Class="CombatExtended.ProjectilePropertiesCE">
			<damageDef>Arrow</damageDef>
            <speed>52</speed>
			<damageAmountBase>18</damageAmountBase>
			<armorPenetrationBase>0.5</armorPenetrationBase>
			<preExplosionSpawnChance>0.6</preExplosionSpawnChance>
			<preExplosionSpawnThingDef>Ammo_BodkinArrows</preExplosionSpawnThingDef>
		</projectile>
	</ThingDef>
	
	<ThingDef ParentName="BaseBodkinArrowProjectile">
		<defName>Projectile_FlamingBodkinArrow</defName>
		<label>Flaming Bodkin Arrow</label>
		<projectile Class="CombatExtended.ProjectilePropertiesCE">
		  <damageDef>Flame</damageDef>
          <speed>35</speed>
		  <damageAmountBase>4</damageAmountBase>
		  <secondaryDamage>
            <li>
              <def>Arrow</def>
              <amount>14</amount>
            </li>
          </secondaryDamage>
         <armorPenetrationBase>0.3</armorPenetrationBase>
		 <preExplosionSpawnChance>0.2</preExplosionSpawnChance>
		 <preExplosionSpawnThingDef>Ammo_FlamingBodkinArrows</preExplosionSpawnThingDef>
        </projectile>
	</ThingDef>

	<!-- ==================== Recipes ========================== -->

  <RecipeDef ParentName="AmmoRecipeMedievalBase">
    <defName>MakeAmmo_BodkinArrow</defName>
    <label>make bodkin arrows x10</label>
    <description>Craft 10 bodkin arrows.</description>
    <jobString>Making bodkin arrows.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>WoodLog</li>
          </thingDefs>
        </filter>
        <count>2</count>
      </li>
      <li>
        <filter>
          <thingDefs>
            <li>Steel</li>
          </thingDefs>
        </filter>
        <count>2</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>WoodLog</li>
        <li>Steel</li>
      </thingDefs>
    </fixedIngredientFilter>
    <products>
      <Ammo_BodkinArrows>10</Ammo_BodkinArrows>
    </products>
    <recipeUsers>
      <li>MedTimes_BlacksmithForge</li>
	  <li>MedTimes_BlacksmithForgeTierTwo</li>
     </recipeUsers>
  </RecipeDef>
  
  <RecipeDef ParentName="AmmoRecipeMedievalBase">
    <defName>MakeAmmo_FlamingBodkinArrow</defName>
    <label>make flaming bodkin arrows x10</label>
    <description>Craft 10 flaming bodkin arrows.</description>
    <jobString>Making flaming bodkin arrows.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>Ammo_BodkinArrows</li>
          </thingDefs>
        </filter>
        <count>10</count>
      </li>
      <li>
        <filter>
          <thingDefs>
            <li>MedTimes_Resource_Quicklime</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
	<allowMixingIngredients>true</allowMixingIngredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>Ammo_BodkinArrows</li>
        <li>MedTimes_Resource_Quicklime</li>
      </thingDefs>
    </fixedIngredientFilter>
    <products>
      <Ammo_FlamingBodkinArrows>10</Ammo_FlamingBodkinArrows>
    </products>
	<recipeUsers>
      <li>MedTimes_CraftingStation</li>
	  <li>CraftingSpot</li>
    </recipeUsers>
  </RecipeDef>
	
</Defs>